\section{Líneas de futuro}

Aun habiendo llevado a cabo esta investigación aún han quedado muchas cosas en el tintero. \\
Existen muchos conceptos por estudiar en cuanto a la explotación del modo en que se gestiona la memoria dinámica en Linux. Por un lado, se debería estudiar cómo afectan las medidas de seguridad implementadas en el sistema operativo. La principal medida de seguridad a evadir es ASLR. Debido a su uso, un mismo programa no siempre ubica las variables o los segmentos del binario en las mismas direcciones de memoria en diferentes ejecuciones. Esto hace que las diferentes técnicas que se han mostrado en esta investigación no se puedan extrapolar directamente a los sistemas operativos más actuales debido a la necesidad de conocer de antemano la dirección de ciertos fragmentos de memoria. Con todo y con eso, existen ciertos mecanismos para evadir esta medida de seguridad. Varios investigadores han encontrado diferentes modos de vulnerar ASLR, el primero de ellos fue \cite{BPAP} y evidentemente lo publicó en el \textit{ezine} Phrack. Después vinieron otros como \cite{OTEOASR}, \cite{GAAIWV}, \cite{ASALR} o \cite{IE}. \\
Por tanto, el siguiente paso lógico sería estudiar todos los conceptos detrás de los mecanismos de mitigación para intentar extrapolar las técnicas detalladas en esta investigación a los sistemas operativos actuales. \bigskip

El siguiente paso sería estudiar aún más el algoritmo \textit{ptmalloc}. El último reporte de una vulnerabilidad en el modo de gestionar la memoria dinámica en Linux data del 2005\cite{MM}. Han pasado casi 8 años y no se ha publicado ninguna otra vulnerabilidad. Este hecho, en el mundo de la seguridad informática, es bastante insólito. \\
Se debería estudiar todos aquellos fragmentos de código en los que se trabaja con los punteros a los datos del usuario. Se debería buscar en el código fuente todas aquellas apariciones del puntero |p|, |bk| o |fd|. En el caso de que ocurriera un \textit{heap overflow} estos datos serían los que un atacante podría controlar. Se deberían estudiar todas las operaciones que se hacen con ellos, saber cual es el flujo de ejecución para llegar al punto en el que se utilizan e investigar si con esas operaciones entre los punteros en algún momento se escriben datos en memoria. \\
Otro vector de ataque a estudiar serían las posibilidades que introduce poder controlar los datos de la estructura \textit{arena} tal y como ocurre con la técnica The House of Mind. Pensar en la modificación de los arrays de \textit{bins}, \textit{fastbins} o \textit{unsorted chunks}, de modo que dichos arrays apunten a direcciones de memoria con algún tipo de interés para poder ejecutar código arbitrario al añadir fragmentos de memoria modificados por el atacante.
Por otro lado, en estos 7 años pueden haber aparecido nuevos vectores de ataque. Los fragmentos de memoria actuales contienen dos campos nuevos, |fd_nextsize| y |bk_nextsize|. Estos campos también se desenlazan al ejecutar la macro \textit{unlink} así que sería interesante estudiar si se pueden llevar acciones parecidas a las que se llevan a cabo con el puntero |fd| y |bk|. \bigskip

Por último, en esta investigación se ha estudiado la gestión de la memoria dinámica a nivel de usuario. Existen otros algoritmos utilizados para gestionar la memoria dinámica cuando se está programando a nivel de kernel. La gestión de la memoria dinámica en el \textit{kernel} de Linux se realiza a través del algoritmo llamado SLUB. En la versión 2.6.23 del kernel este algoritmo se convirtió en el algoritmo por defecto para realizar la gestión de la memoria dinámica. Así que sería de interés realizar un estudio de vulnerabilidades tal y como se ha hecho en esta investigación. \bigskip
