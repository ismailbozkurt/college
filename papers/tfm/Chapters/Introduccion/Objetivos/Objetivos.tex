\subsection{Objetivos}

El primer objetivo de esta investigación es desarrollar toda la teoría relacionada con el funcionamiento del \textit{heap} de modo que el lector sea capaz de entender todos los conceptos que se explicarán posteriormente. \\
El funcionamiento del \textit{heap} no es algo trivial y, por lo tanto, uno podría empezar a divagar e intentar explicar todos sus mecanismos, obteniendo al final un documento de cientos de páginas. Sin embargo, la descripción que se realizará en esta investigación no busca detallar todos los conceptos relativos a su funcionamiento, sino desarrollar todos aquellos aspectos, suficientes y necesarios, para que el lector sea capaz de entender aquello que se desarrollará como segundo objetivo de esta investigación. \\
Cabe destacar que la explicación teórica del funcionamiento del \textit{heap} no sólo se realiza para que el lector pueda entender los conceptos que se detallarán en esta investigación, sino que también busca formar al lector de modo que una vez haya entendido los conceptos que aquí se retratan, sea capaz de ir un paso más allá y descubrir por él mismo nuevas vulnerabilidades en los algoritmos implicados o nuevas medidas de seguridad para evitar nuevas vulnerabilidades. \bigskip

El segundo objetivo de esta investigación es presentar el modo en el que se han estado explotando hasta el momento las vulnerabilidades existentes en la implementación del \textit{heap}. Los contenidos se desarrollarán de modo que se empiece detallando las técnicas con las que se empezó a vulnerar la gestión de la memoria dinámica en Linux y se irá evolucionando hacia las técnicas más modernas descritas \textit{Phantasmal Phantasmagoria}. \\
\textit{Phantasmal} es un \textit{hacker} que desarrolló un conjunto de teorías enfocadas a la explotación del \textit{heap} en una época en la que se creían corregidas las vulnerabilidades existentes y donde parecía que no había nadie capaz de ir un paso más allá y descubrir nuevos errores. \\
Así pues, \textit{Phantasmal Phantasmagoria}, con las siguientes palabras, presentaba uno de los textos más reveladores sobre vulnerabilidades en el \textit{heap}:
\begin{center}
\textit{It is for this reason, a small suggestion of impossibility, that I present the Malloc Maleficarum.}
\end{center}
Y así es como compartió con el resto de \textit{hackers} del mundo, no uno, sino cinco posibles métodos para vulnerar la seguridad de la gestión de memoria dinámica en sistemas GNU/Linux. \bigskip

Aun así, si el segundo objetivo de este apartado fuera simplemente explicar lo que ya explicó \textit{Phantasmal} en su texto, este apartado no tendría ninguna razón de ser. Así pues, dónde yace la problemática? Principalmente en que el texto mencionado se escribió en 2005 dando tan sólo conceptos teóricos, y hasta 2009 no se volvió a escribir sobre el tema.\\
Fue en 2009 cuando \textit{blackngel} puso en práctica los conceptos explicados por \textit{Phantasmal}, y desde 2009 hasta 2012 no ha habido ninguna otra noticia al respecto. En 2009, \textit{blackngel} demostró empíricamente como algunas de las técnicas explicadas por \textit{Phantasmal} aún eran vigentes, y para ello utilizó la versión 2.8 de la librería \textit{glibc}\footnote{La librería glibc es la encargada de implementar el sistema de gestión de memoria dinámica en sistemas GNU/Linux.} \bigskip

Esto demuestra que durante cuatro años - de 2005 a 2009 - y después de cinco nuevas versiones de la librería \textit{glibc} - de la 2.3 a la 2.8 -  muchas de las vulnerabilidades explicadas por \textit{Phantasmal} aún no se habían corregido. Y esto nos lleva a definir específicamente el segundo objetivo de este apartado, que no es más que conocer cual es el verdadero estado del arte en la explotación del \textit{heap}, y si las teorías de \textit{Phantasmal} siguen vigentes 7 años después de su publicación. De no ser así, se detallará el modo en el que se han solucionado dichas vulnerabilidades y, además, durante el transcurso de la investigación se intentarán encontrar nuevos vectores de ataque que permitan la vulneración del algoritmo encargado de implementar el \textit{heap}. \bigskip

Por último, cabe destacar que en el presente documento no se detallarán todas las técnicas que se presentaron en el texto de \textit{Phantasmal}, sino que se estudiaran aquellas que sean las más representativas y que permitan al lector obtener un punto de vista general sobre cual acostumbra a ser el vector de ataque en estos casos, para que de este modo, sea el mismo lector el que se pueda adentrar en los más oscuros recovecos del sistema de gestión de memoria dinámica del sistema operativo y poder discernir por cuenta propia posibles vulnerabilidades aún por descubrir.

